<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Clínica</title>
    <link rel="stylesheet" href="styles/login.css">
</head>
<body>
    <div class="login-wrapper">
        <!-- Botón de modo noche -->
        <button id="themeToggle" class="theme-toggle-login" title="Modo noche" aria-label="Modo noche" onclick="toggleTheme()">
            <span class="toggle-track">
                <span class="toggle-thumb">
                    <span class="icon-sun"></span>
                    <span class="icon-moon"></span>
                </span>
            </span>
        </button>

        <div class="container">
            <!-- Panel izquierdo decorativo -->
            <div class="left-panel">
                <div class="decoration circle-1"></div>
                <div class="decoration circle-2"></div>
                <div class="decoration circle-3"></div>
                <div class="decoration line line-1"></div>
                <div class="decoration line line-2"></div>
                <div class="decoration line line-3"></div>
                <div class="decoration line line-4"></div>
                <div class="decoration border-circle-1"></div>
                <div class="decoration border-circle-2"></div>

                <div class="left-content">
                    <h1>Bienvenido a Sonrisas y Salud</h1>
                    <p>Tu salud es nuestra prioridad. Accede a tu cuenta para gestionar tus citas, consultar resultados médicos y mantenerte conectado con nuestros profesionales de la salud.</p>
                </div>
            </div>

            <!-- Panel derecho - Formulario -->
            <div class="right-panel">
                <div class="form-container">
                    <div class="logo-container">
                        <div class="logo">
                            <svg viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </div>
                        <h2 class="form-title" id="formTitle">Iniciar Sesión</h2>
                    </div>

                    <div class="message" id="message"></div>

                    <div class="form-group hidden" id="nameGroup">
                        <label for="name">Nombre completo</label>
                        <div class="input-wrapper">
                            <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                            <input type="text" id="name" placeholder="Juan Pérez">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="email">Correo electrónico</label>
                        <div class="input-wrapper">
                            <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                            <input type="email" id="email" placeholder="tu@email.com">
                        </div>
                    </div>

                    <div class="form-group" id="passwordGroup">
                        <label for="password">Contraseña</label>
                        <div class="input-wrapper">
                            <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                            </svg>
                            <input type="password" id="password" placeholder="••••••••">
                            <button type="button" class="password-toggle" id="togglePassword">
                                <svg id="eyeIcon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="form-options" id="formOptions">
                        <label class="checkbox-label">
                            <input type="checkbox" id="remember">
                            Recordarme
                        </label>
                        <button type="button" class="forgot-password" onclick="showForgotPassword()">¿Olvidaste tu contraseña?</button>
                    </div>

                    <button class="btn-primary" id="submitBtn" onclick="handleAuth()">Iniciar Sesión</button>

                    <div class="divider">
                        <span>O continúa con</span>
                    </div>

                    <button class="btn-google" id="googleBtn" onclick="handleGoogleAuth()">
                        <svg width="20" height="20" viewBox="0 0 24 24">
                            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        Continuar con Google
                    </button>

                    <div class="toggle-form">
                        <span id="toggleText">¿No tienes una cuenta?</span>
                        <button onclick="toggleForm()" id="toggleBtn">Regístrate aquí</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="scripts/login.js"></script>
    <script>
        function toggleTheme() {
            const btn = document.getElementById('themeToggle');
            const isNight = document.body.classList.toggle('night');
            btn.classList.toggle('active', isNight);
            localStorage.setItem('theme', isNight ? 'night' : 'light');
        }
        window.addEventListener('DOMContentLoaded', function() {
            const btn = document.getElementById('themeToggle');
            const theme = localStorage.getItem('theme');
            if(theme === 'night') {
                document.body.classList.add('night');
                btn.classList.add('active');
            }
        });
    </script>
</body>
</html>